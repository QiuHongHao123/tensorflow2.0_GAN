'''
11.22
ç»´åº¦å˜æ¢
'''
import tensorflow as tf
'''
æ”¹å˜è§†å›¾æ˜¯ç¥ç»ç½‘ç»œä¸­éå¸¸å¸¸è§çš„æ“ä½œï¼Œå¯ä»¥é€šè¿‡ä¸²è”å¤šä¸ª Reshape æ“ä½œæ¥å®ç°å¤æ‚ é€»è¾‘ï¼Œ
ä½†æ˜¯åœ¨é€šè¿‡ Reshape æ”¹å˜è§†å›¾æ—¶ï¼Œå¿…é¡»å§‹ç»ˆè®°ä½å¼ é‡çš„å­˜å‚¨é¡ºåºï¼Œæ–°è§†å›¾çš„ç»´åº¦é¡ºåºä¸èƒ½ä¸å­˜å‚¨é¡ºåºç›¸æ‚–ï¼Œ
å¦åˆ™éœ€è¦é€šè¿‡äº¤æ¢ç»´åº¦æ“ä½œå°†å­˜å‚¨é¡ºåºåŒæ­¥è¿‡æ¥ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹ äº shape ä¸º[4,32,32,3]çš„å›¾ç‰‡æ•°æ®ï¼Œ
é€šè¿‡ Reshape æ“ä½œå°† shape è°ƒæ•´ä¸º[4,1024,3]ï¼Œæ­¤æ—¶è§†å›¾ çš„ç»´åº¦é¡ºåºä¸ºğ‘ âˆ’ ğ‘ğ‘–ğ‘¥ğ‘’ğ‘™ âˆ’ ğ‘ï¼Œå¼ é‡çš„å­˜å‚¨é¡ºåºä¸º[ğ‘,â„, ,ğ‘]
'''
def change_shape():
    x=tf.range(96)
    print(x)
    x=tf.reshape(x,[2,4,4,3])
    print(x)
    #å¯è§å¼ é‡å‚¨å­˜é¡ºåºå§‹ç»ˆæœªæ”¹å˜
def add_D():
    '''
    å¢åŠ ç»´åº¦
    åªèƒ½å¢åŠ é•¿åº¦ä¸º1çš„ç»´åº¦
    é€šè¿‡ tf.expand_dims(x, axis)å¯åœ¨æŒ‡å®šçš„ axis è½´å‰å¯ä»¥æ’å…¥ä¸€ä¸ªæ–°çš„ç»´åº¦ï¼š
    tf.expand_dims çš„ axis ä¸ºæ­£æ—¶ï¼Œè¡¨ç¤ºåœ¨å½“å‰ç»´åº¦ä¹‹å‰æ’å…¥ä¸€ä¸ªæ–°ç»´åº¦ï¼›ä¸ºè´Ÿæ—¶ï¼Œè¡¨ç¤ºå½“å‰ç»´åº¦ä¹‹åæ’å…¥ä¸€ä¸ªæ–°çš„ç»´åº¦
    :return:

    '''
    x=tf.random.uniform([4,4],maxval=10,dtype=tf.float32)
    print(x)
    x=tf.expand_dims(x,2)
    y=tf.reshape(x,[4,4,1])
    print(x)
    print(y)
    '''
    tf.squeeze(x, axis)å‡½æ•°ï¼Œaxis
    å‚æ•°ä¸ºå¾…åˆ é™¤çš„ç»´åº¦çš„ç´¢å¼•å·
    '''
    x1=tf.squeeze(x,2)
    print(x1)
def exchange_D():
    '''
    æœ‰æ—¶éœ€è¦ç›´æ¥è°ƒæ•´çš„å­˜å‚¨é¡ºåºï¼Œå³äº¤æ¢ ç»´åº¦(Transpose)ã€‚é€šè¿‡äº¤æ¢ç»´åº¦ï¼Œæ”¹å˜äº†å¼ é‡çš„å­˜å‚¨é¡ºåºï¼ŒåŒæ—¶ä¹Ÿæ”¹å˜äº†å¼ é‡çš„è§†å›¾ã€‚
    æ³¨æ„ä¼šæ”¹å˜å‚¨å­˜é¡ºåºå’Œå‰é¢ä¸ä¸€æ ·
    :return:
    '''
    x=tf.random.uniform([3,4,4,3])
    print(x)
    '''
    permæŒ‡æ–°çš„ç»´åº¦ç´¢å¼•é¡ºåº
    '''
    y=tf.transpose(x,perm=[0,3,1,2])
    print(y)
def copy_in_D():
    '''
    åœ¨æŒ‡å®šç»´åº¦ä¸Šå¤åˆ¶ä¸€ä»½æ•°æ®
    :return:
    '''
    b=tf.random.uniform([3],maxval=5)
    print(b)
    b=tf.expand_dims(b,axis=0)
    print(b)
    '''
    é€šè¿‡ tf.tile(b, multiples=[2,1])å³å¯åœ¨ axis=0 ç»´åº¦å¤åˆ¶ 1 æ¬¡ï¼Œåœ¨ axis=1 ç»´åº¦ä¸å¤åˆ¶ã€‚
    multiples åˆ†åˆ«æŒ‡å®šäº†æ¯ä¸ªç»´åº¦ä¸Š é¢çš„å¤åˆ¶å€æ•°ï¼Œå¯¹åº”ä½ç½®ä¸º 1 è¡¨æ˜ä¸å¤åˆ¶ï¼Œä¸º 2 è¡¨æ˜æ–°é•¿åº¦ä¸ºåŸæ¥çš„é•¿åº¦çš„ 2 å€ï¼Œå³æ•°æ® å¤åˆ¶ä¸€ä»½
    tileæœ¬æ„ä¸ºç“·ç –è´´ç‰‡æ¯”è¾ƒå½¢è±¡
    '''
    b=tf.tile(b,multiples=[2,1])
    print(b)
    a=tf.random.uniform([2,2],maxval=5)
    print(a)
    a=tf.tile(a,multiples=[2,1])
    print(a)
#change_shape()
#add_D()
#exchange_D()
copy_in_D()